# 赛题背景

商家有时会在特定的日期（如节礼日甩卖、“黑色星期五”或“双十一（11 月 11 日）”）开展大型促销活动（如折扣或现金券），以吸引大量新买家。但是，很多被吸引来的买家都是一次性的，他们在这次消费之后就再也没有购买，针对这些用户的促销活动并没有给店铺带来未来销售的增加。

为了缓解这个问题，商家必须确定哪些人可以转化为重复购买者。通过对这些潜在的忠诚客户进行精细化营销，商家可以大大降低促销成本，提高投资回报率（ROI）。

众所周知，在网络广告领域，用户精准定位具有极大的挑战性，尤其是对于新买家。不过，借助天猫长期积累的用户行为日志，我们或许可以解决这个问题。

在本次挑战中，我们提供了一组商家以及他们在“双十一”促销活动中获得的新买家。你的任务是在给定商家中预测其中哪些新买家会在未来成为忠实客户。换句话说，你需要预测这些新买家在未来 **六个月内** 是否会再次在同一个商家购买商品，以及对应的概率。

我们给出一个包含约 **20 万用户** 的数据集进行训练，另一个规模相近的数据集进行测试。与其他比赛类似，你可以自行提取特征，并使用任意模型进行训练，最终只需提交预测结果进行评估。

---

# 参赛指南

- **Baseline**  
  https://tianchi.aliyun.com/competition/entrance/531837/customize227

- **原论坛**  
  https://tianchi.aliyun.com/competition/entrance/231576/forum

---

# 数据描述

数据集包含匿名用户在 **“双十一”前 6 个月** 以及 **“双十一”当天** 的购物记录，标签表示用户是否为重复购买者。

出于隐私保护考虑，数据在采样过程中存在一定偏差，因此统计结果可能与天猫平台的真实分布不完全一致，但不影响解决方案的有效性与适用性。

训练集与测试集数据见文件 **`data_format2.zip`**，字段说明如下。

---

## 数据格式二（`data_format2.zip`）

### 字段说明

| 字段名称 | 描述 |
|--------|------|
| user_id | 购物者的唯一 ID 编码 |
| age_range | 用户年龄范围 |
| gender | 用户性别：0 表示女性，1 表示男性，2 或 NULL 表示未知 |
| merchant_id | 商家的唯一 ID 编码 |
| label | 取值集合为 {0, 1, -1, NULL}：<br>1 表示重复买家；<br>0 表示非重复买家；<br>-1 表示该用户不是该商家的新客户（不在预测范围内，但可提供辅助信息）；<br>测试集中该字段为 NULL |
| activity_log | `{user_id, merchant_id}` 之间的行为日志，包含 item_id、category_id、brand_id、time 等信息，用 `#` 分隔，顺序不固定 |

---

## 提交格式

请以 **`prediction.csv`** 作为文件名提交，格式如下：

| 字段名称 | 描述 |
|--------|------|
| user_id | 购物者的唯一 ID 编码 |
| merchant_id | 商家的唯一 ID 编码 |
| prob | 给定用户是给定商家的重复购买者的概率，取值范围为 [0, 1] |

---

# 其他数据格式

平台还提供了另一种更适合特征工程的数据格式，详见 **`data_format1.zip`**（包含 4 个文件）。

---

## 用户行为日志

| 字段名称 | 描述 |
|--------|------|
| user_id | 购物者的唯一 ID 编码 |
| item_id | 商品的唯一编码 |
| cat_id | 商品所属品类的唯一编码 |
| merchant_id | 商家的唯一 ID 编码 |
| brand_id | 商品品牌的唯一编码 |
| time_stamp | 行为发生时间（格式：mmdd） |
| action_type | 行为类型：0 = 单击，1 = 加入购物车，2 = 购买，3 = 加入收藏夹 |

---

## 用户画像

| 字段名称 | 描述 |
|--------|------|
| user_id | 购物者的唯一 ID 编码 |
| age_range | 用户年龄范围 |
| gender | 用户性别：0 表示女性，1 表示男性，2 或 NULL 表示未知 |

---

## 训练数据与测试数据

| 字段名称 | 描述 |
|--------|------|
| user_id | 购物者的唯一 ID 编码 |
| merchant_id | 商家的唯一 ID 编码 |
| label | 取值集合为 {0, 1}：1 表示重复买家，0 表示非重复买家；测试集该字段为空 |
